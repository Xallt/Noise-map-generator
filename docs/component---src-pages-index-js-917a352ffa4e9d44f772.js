(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{189:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(210),s=n(227),i=n.n(s),l=n(316),c=n(322);var p=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return r.a.createElement(c.a,{style:{width:"95%",marginTop:"2%"}},r.a.createElement(l.a,{variant:"h2",component:"h1",style:{textAlign:"center"},gutterBottom:!0},"Noise generation"),r.a.createElement(l.a,{variant:"h5",component:"h1",style:{textAlign:"center"},gutterBottom:!0},"See on ",r.a.createElement("a",{href:"https://github.com/Xallt/Noise-map-generator"},"Github")))},a}(r.a.Component),h=n(317),u=n(319),m=(n(23),n(327)),d=(n(52),n(324));var f=function(e,t){return function(n){var a,o;function s(e){var t;return(t=n.call(this,e)||this).state={value:e.initialValue||e.min||0},t}o=n,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o;var i=s.prototype;return i.shouldComponentUpdate=function(e,t){return this.state.value!==t.value},i.render=function(){var n=this;return r.a.createElement(h.a,{container:!0,justify:"space-around"},r.a.createElement(h.a,{item:!0,xs:3},r.a.createElement(l.a,null,this.props.name)),r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(e,Object.assign({},this.props,{onChange:function(e){n.setState({value:e}),n.props.onChange(e)},value:this.state.value}))),r.a.createElement(h.a,{item:!0,xs:2},!this.props.hideValue&&(!t||!t.hideValue)&&r.a.createElement(d.a,{value:this.state.value,margin:"dense",onChange:function(e){n.setState({value:parseFloat(e.target.value)})},inputProps:{step:this.props.step,min:this.props.min,max:this.props.max,type:"number"}})))},s}(a.Component)};var v=f(function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={value:t.initialValue||t.min||0},n.handleChange=n.handleChange.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleChange=function(e,t){this.props.onChange(t),this.setState({value:t})},o.componentDidUpdate=function(e,t){this.props.value!==t.value&&(this.props.onChange(this.props.value),this.setState({value:this.props.value}))},o.shouldComponentUpdate=function(e,t){return e.value&&this.state.value!==e.value||this.state.value!==t.value},o.render=function(){var e={};return this.props.step&&(e.step=this.props.step),r.a.createElement(m.a,Object.assign({min:this.props.min,max:this.props.max,defaultValue:this.props.initialValue,value:this.state.value,onChange:this.handleChange},e))},a}(a.Component)),g=n(318);var y=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).seed=0,n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return r.a.createElement(h.a,{container:!0,style:{marginBottom:"2%"}},r.a.createElement(h.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(g.a,{onClick:function(t){e.props.onChange(++e.seed)},color:"default",variant:"contained"},"Randomize")))},a}(a.Component),E=(n(30),n(29),n(13),n(244),n(320)),C=n(326);var x=f(function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={value:t.value||Object.entries(n.props.options)[0][1]},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){for(var e=this,t=[],n=0,a=Object.entries(this.props.options);n<a.length;n++){var o=a[n],s=o[0],i=o[1];t.push(r.a.createElement(C.a,{value:i,key:s},s))}return r.a.createElement(E.a,{onChange:function(t){e.props.onChange(t.target.value),e.setState({value:t.target.value})},value:this.state.value},t)},a}(a.Component),{hideValue:!0}),S=n(325);function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).sendInput=n.sendInput.bind(b(n)),n.onParamChange=n.onParamChange.bind(b(n)),n.params={channels:1,resolution:256,octaves:8,seed:0,gain:.5,lacunarity:2,scale:3,offsetStrength:.15,offsetOctaves:8,offsetScale:10},n.paramChange={resolution:n.onParamChange("resolution"),seed:n.onParamChange("seed"),channels:n.onParamChange("channels"),octaves:n.onParamChange("octaves"),scale:n.onParamChange("scale"),gain:n.onParamChange("gain"),lacunarity:n.onParamChange("lacunarity"),offsetStrength:n.onParamChange("offsetStrength"),offsetScale:n.onParamChange("offsetScale"),offsetOctaves:n.onParamChange("offsetOctaves")},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){this.sendInput()},o.sendInput=function(){this.props.onChange(this.params)},o.onParamChange=function(e){var t=this;return function(n){t.params[e]=n,t.sendInput()}},o.render=function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:e.root},r.a.createElement(h.a,{container:!0},r.a.createElement(y,{name:"Seed",onChange:this.paramChange.seed}),r.a.createElement(x,{name:"Resolution",options:{"256x256":256,"512x512":512,"1024x1024":1024,"2048x2048":2048},onChange:this.paramChange.resolution}),r.a.createElement(x,{name:"Channels",options:{1:1,3:3},onChange:this.paramChange.channels}),r.a.createElement("hr",null),r.a.createElement(v,{name:"Octaves",min:1,max:8,initialValue:8,onChange:this.paramChange.octaves}),r.a.createElement(v,{name:"Scale",min:1,max:30,step:.01,initialValue:3,onChange:this.paramChange.scale}),r.a.createElement(v,{name:"Gain",min:0,max:3,step:.01,initialValue:.5,onChange:this.paramChange.gain}),r.a.createElement(v,{name:"Lacunarity",min:1,max:8,step:.01,initialValue:2,onChange:this.paramChange.lacunarity}),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(l.a,{variant:"h5",style:{fontWeight:"bolder",textAlign:"center"},gutterBottom:!0},"Noise offsetting")),r.a.createElement(v,{name:"Octaves",min:1,max:8,initialValue:8,onChange:this.paramChange.offsetOctaves}),r.a.createElement(v,{name:"Strength",min:0,max:2,step:.01,initialValue:.15,onChange:this.paramChange.offsetStrength}),r.a.createElement(v,{name:"Scale",min:1,max:100,step:.01,initialValue:10,onChange:this.paramChange.offsetScale}))))},a}(r.a.Component),L=Object(S.a)(function(e){return{root:{width:"95%",margin:"0 auto",padding:"2% 1%"}}})(w),_=n(68),P=n.n(_),R=n(266),U=n(290),O=n.n(U),z=n(291),V=n.n(z);var j=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={size:0},n.URLLoader=n.URLLoader.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.updateSize=function(){var e=i()(P.a.findDOMNode(this).parentNode);this.setState({size:Math.min(e.width(),e.height())})},o.componentDidMount=function(){var e=this;window.addEventListener("resize",function(t){e.updateSize()}),this.scene=new R.c,this.camera=new R.b(-1,1,1,-1,.5,100),this.camera.position.z=5,this.renderer=new R.h({canvas:this.canvas}),this.renderer.setSize(this.props.texSize,this.props.texSize),this.canvasForLoader=document.createElement("canvas"),this.loadRenderer=new R.h({canvas:this.canvasForLoader}),this.loadRenderer.setSize(this.props.uniformValues.resolution,this.props.uniformValues.resolution),this.shape=new R.e([new R.g(-1,-1),new R.g(-1,1),new R.g(1,1),new R.g(1,-1)]),this.geo=new R.f(this.shape),this.constructUniforms(),this.material=new R.d({uniforms:this.uniforms,vertexShader:O.a,fragmentShader:V.a}),this.mesh=new R.a(this.geo,this.material),this.scene.add(this.mesh),this.renderer.domElement.style.height="100%",this.renderer.domElement.style.width="",this.renderer.domElement.style.margin="0 auto",this.renderer.domElement.style.display="block",this.props.handleURLLoader(this.URLLoader)},o.shouldComponentUpdate=function(e,t){for(var n=0,a=Object.entries(e.uniformValues);n<a.length;n++){var r=a[n],o=r[0],s=r[1];if(this.uniforms[o].value!==s)return!0}return!1},o.constructUniforms=function(){this.uniforms={};for(var e=0,t=Object.entries(this.props.uniformValues);e<t.length;e++){var n=t[e],a=n[0],r=n[1];this.uniforms[a]={value:r}}},o.setUniforms=function(){for(var e=0,t=Object.entries(this.props.uniformValues);e<t.length;e++){var n=t[e],a=n[0],r=n[1];this.uniforms[a].value=r}},o.URLLoader=function(){return this.loadRenderer.setSize(this.props.loadResolution,this.props.loadResolution),this.loadRenderer.render(this.scene,this.camera),this.canvasForLoader.toDataURL()},o.componentDidUpdate=function(){this.renderer.setSize(this.props.texSize,this.props.texSize),this.renderer.domElement.style.height="100%",this.renderer.domElement.style.width="",this.setUniforms(),this.renderer.render(this.scene,this.camera),console.log("rendered")},o.render=function(){var e=this;return r.a.createElement("canvas",{ref:function(t){e.canvas=t},style:{height:"100%",display:"block",margin:"0 auto"},width:this.props.texSize,height:this.props.texSize})},a}(a.Component);var N=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e={seed:this.props.inputParams.seed,scale:this.props.inputParams.scale,gain:this.props.inputParams.gain,lacunarity:this.props.inputParams.lacunarity,octaves:this.props.inputParams.octaves,motionSteps:this.props.inputParams.motionSteps,offsetStrength:this.props.inputParams.offsetStrength,offsetScale:this.props.inputParams.offsetScale,offsetOctaves:this.props.inputParams.offsetOctaves,channels:this.props.inputParams.channels};return r.a.createElement(j,{texSize:512,uniformValues:e,handleURLLoader:this.props.handleURLLoader,loadResolution:this.props.inputParams.resolution})},a}(r.a.Component);function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={windowWidth:0,windowHeight:0,inputParams:{},canvasDataUrl:"#"},n.handleInput=n.handleInput.bind(k(n)),n.handleURLLoader=n.handleURLLoader.bind(k(n)),n.loadURL=n.loadURL.bind(k(n)),n.updateSize=n.updateSize.bind(k(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){window.onresize=this.updateSize,this.updateSize(),i()(function(){i()("html").fadeIn(500)})},o.updateSize=function(){var e=Math.min(.9*window.innerWidth,1.8*window.innerHeight);this.setState({width:e,height:e/2})},o.handleInput=function(e){this.setState({inputParams:e})},o.handleURLLoader=function(e){console.log("Got a URL loader"),this.URLLoader=e},o.loadURL=function(){this.setState({canvasDataUrl:this.URLLoader()})},o.render=function(){var e=this.props.classes;return r.a.createElement(c.a,{className:e.root,style:{width:this.state.width,height:this.state.height}},r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:5},r.a.createElement(h.a,{container:!0,spacing:3,style:{margin:"2% 0"}},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(p,null)),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(L,{onChange:this.handleInput})),r.a.createElement(h.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(g.a,{variant:"contained",color:"primary",size:"large",href:this.state.canvasDataUrl,onClick:this.loadURL,download:!0},"Save")))),r.a.createElement(h.a,{item:!0,xs:7},r.a.createElement(N,{inputParams:this.state.inputParams,handleURLLoader:this.handleURLLoader}))))))},a}(r.a.Component),D=Object(S.a)(function(e){return{root:{margin:"0 auto",paddingTop:"1%"}}})(I);t.default=function(){return r.a.createElement(o.a,{title:"Noise generator"},r.a.createElement(D,null))}},210:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(222);n(224),n(225),n(226);t.a=function(e){var t=e.children,n=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Helmet,null,r.a.createElement("title",null,n),r.a.createElement("link",{rel:"stylesheet"}),r.a.createElement("link",{rel:"shortcut icon",href:"favicon.ico",type:"image/x-icon"}),r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})),r.a.createElement("main",null,t))}},290:function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vPos;\n\nvoid main() {\n    gl_Position = vec4(position.xy, 0., 1.);\n    vPos = position.xy / 2. + .5;\n}"},291:function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vPos;\n\nuniform float seed;\n\nuniform float scale;\nuniform float gain, lacunarity, offsetStrength, offsetScale;\nuniform int octaves, channels, offsetOctaves;\n\nfloat random(float x, float seed) {\n    return fract(sin(x * 1238.412 + seed * 56.21) * 219.32 + .76 - seed * 89.1);\n}\nfloat random(vec2 p, float seed) {\n    return random(random(p.x, seed) * random(p.y, seed) + random(p.x * p.y, seed) - random(p.x - p.y, seed) * 129., seed);\n}\n\nvec2 rotate(vec2 p, float a) {\n    return vec2(\n        p.x * cos(a) - p.y * sin(a),\n        p.x * sin(a) + p.y * cos(a)\n    );\n}\n\n// Perlin noise\nfloat noise(vec2 p, float seed) {\n    vec2 n = floor(p), f = fract(p);\n    f = smoothstep(0., 1., f);\n    float c = random(n + vec2(0., 1.), seed), d = random(n + vec2(1., 1.), seed),\n          a = random(n + vec2(0., 0.), seed), b = random(n + vec2(1., 0.), seed);\n    return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);\n}\n\nfloat perlin(vec2 st, float seed) {\n    float res = 0.;\n    float amplitude = 1.;\n    st = st * scale;\n    for (int i = 0; i < 8; ++i) {\n        if (i >= octaves) {\n            break;\n        }\n        res += amplitude * noise(rotate(st, 5.12 * float(i)), seed);\n        amplitude *= gain;\n        st *= lacunarity;\n    }\n    if (gain == 1.) {\n        res = res / float(octaves);\n    }\n    else {\n        res = res * (gain - 1.) / (pow(gain, float(octaves)) - 1.); \n    }\n    return res;\n}\nfloat offsetNoise(vec2 st, float seed) {\n    float res = 0.;\n    float amplitude = 1.;\n    for (int i = 0; i < 8; ++i) {\n        if (i >= offsetOctaves) {\n            break;\n        }\n        res += amplitude * noise(rotate(st, 5.12 * float(i)), seed);\n        amplitude *= 0.5;\n        st *= 2.;\n    }\n    res = res * .5 / (1. - pow(.5, 8.)); \n    return res;\n}\n\nfloat finalNoise(vec2 st, float seed) {\n    vec2 ost = st * offsetScale;\n    vec2 offset = vec2(offsetNoise(ost, seed), offsetNoise(ost, random(seed, 2.1)));\n    st = st + offset * offsetStrength;\n    return perlin(st, seed);\n}\n\nvoid main() {\n    if (channels == 1) {\n        float r = finalNoise(vPos, seed), \n              g = r, \n              b = r;\n        gl_FragColor = vec4(r, g, b, 1.);\n    }\n    else if (channels == 3) {\n        float r = finalNoise(vPos, seed), \n              g = finalNoise(vPos, random(seed, 5.421)), \n              b = finalNoise(vPos, random(seed, 9.5));\n        gl_FragColor = vec4(r, g, b, 1.);\n    }\n}"}}]);
//# sourceMappingURL=component---src-pages-index-js-917a352ffa4e9d44f772.js.map